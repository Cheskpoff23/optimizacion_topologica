\documentclass{article}
\usepackage[english, spanish]{babel}
\usepackage{float}
\usepackage[letterpaper, portrait, margin=2.54cm]{geometry} % Combinada y actualizada
\usepackage{graphicx}
\usepackage{lipsum}
\usepackage{amsmath,amssymb,amsthm}
\usepackage[utf8]{inputenc}
\usepackage{multirow}
\usepackage{csquotes}
\usepackage{apacite}
\usepackage{multicol}
\usepackage{parskip}
\usepackage{setspace}
\usepackage{empheq}
\usepackage{mdframed}
\usepackage{booktabs}
% \usepackage{lipsum} % Eliminado, ya cargado
% \usepackage{graphicx} % Eliminado, ya cargado
\usepackage{color}
\usepackage{psfrag}
\usepackage{pgfplots}
\usepackage{bm}
\usepackage{tocloft}
\usepackage{lscape}
\usepackage{adjustbox}
\setlength{\tabcolsep}{1.505625pt}
\renewcommand{\arraystretch}{1.2}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\definecolor{ocre}{RGB}{243,102,25}
\definecolor{mygray}{RGB}{243,243,244}
\definecolor{deepGreen}{RGB}{26,111,0}
\definecolor{shallowGreen}{RGB}{235,255,255}
\definecolor{deepBlue}{RGB}{61,124,222}
\definecolor{shallowBlue}{RGB}{235,249,255}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%% Define an orangebox command %%%%%%%%%%%%%%%%%%%%%%%%
\newcommand\orangebox[1]{\fcolorbox{ocre}{mygray}{\hspace{1em}#1\hspace{1em}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%% English Environments %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newtheoremstyle{mytheoremstyle}{3pt}{3pt}{\normalfont}{0cm}{\rmfamily\bfseries}{}{1em}{{\color{black}\thmname{#1}~\thmnumber{#2}}\thmnote{\,--\,#3}}
\newtheoremstyle{myproblemstyle}{3pt}{3pt}{\normalfont}{0cm}{\rmfamily\bfseries}{}{1em}{{\color{black}\thmname{#1}~\thmnumber{#2}}\thmnote{\,--\,#3}}
\theoremstyle{mytheoremstyle}
\newmdtheoremenv[linewidth=1pt,backgroundcolor=shallowGreen,linecolor=deepGreen,leftmargin=0pt,innerleftmargin=20pt,innerrightmargin=20pt,]{theorem}{Theorem}[section]
\theoremstyle{mytheoremstyle}
\newmdtheoremenv[linewidth=1pt,backgroundcolor=shallowBlue,linecolor=deepBlue,leftmargin=0pt,innerleftmargin=20pt,innerrightmargin=20pt,]{definition}{Definition}[section]
\theoremstyle{myproblemstyle}
\newmdtheoremenv[linecolor=black,leftmargin=0pt,innerleftmargin=10pt,innerrightmargin=10pt,]{problem}{Problem}[section]
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Plotting Settings %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepgfplotslibrary{colorbrewer}
\pgfplotsset{width=8cm,compat=1.18} % Unificado y compatibilidad actualizada
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Title & Author %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\author{Gustavo Vergara}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
% \pgfplotsset{compat=1.18} % Movido al preámbulo
\setstretch{2}

\begin{titlepage}
    \centering
    \vspace{2.5cm}
    {\scshape \Large OPTIMIZACIÓN TOPOLÓGICA DE UNA VIGA MBB\par}
    \vspace{5cm}
    \textbf\large\scshape{\par}
    \vspace{0.5cm}
    {\Large Vergara Pareja Gustavo\par}
    \vspace{5cm}
    {\scshape\Large Ávila Cesar\par}
    \vspace{0.3cm}
    {\scshape\Large MEF COMPUTACIONAL \par}
    \vspace{0.3cm}
    {\scshape\Large Universidad de Córdoba\par}
    \vspace{0.3cm}
    {\Large 28 de Mayo de 2025 \par}
\end{titlepage}
\tableofcontents
\newpage
\section{Introducción}
\begin{itemize}
    \item A continuación realizaremos la optimización topológica de una viga utilizando el software de COMSOL Multiphysics y este basándose en el método SIMP (Solid Isotropic Material with Penalization), específicamente en el módulo de mecánica estructural. Así encontraremos la forma óptima de la viga para minimizar el uso de material mientras se cumplen las restricciones de carga y desplazamiento. La optimización ideal será aquella en donde se minimice la masa de la pieza, manteniendo la rigidez necesaria para soportar las cargas aplicadas. La viga se realizará con base al modelo Messerschmitt-Bölkow-Blohm (MBB).
\end{itemize}
\section{Definición del modelo}
    \begin{itemize}
        \item El criterio de optimización SIMP utiliza un factor de volumen del material $\theta_c$, esto hace que el modelo entienda donde será sólido en función de la distribución de cargas. Pero rellenar el modelo con esta nube de puntos, creará una optimización con puntos infinitesimales que no permitirá un mallado posteriormente. Por ello, esta variable se limita con un filtro $\theta_f$ (Filtro de Helmholtz), que suaviza el diseño eliminando detalles muy pequeños y además define el tamaño mínimo de estos huecos. Este filtro se aplica a la variable de diseño $\theta_c$ y se define como: 
        \begin{equation}
                \theta_f = R_{min}^2 \nabla^2 \theta_f + \theta_c
                \label{eq:filtro_helmholtz}
             \end{equation}
             La imagen suavizada $\theta_f$ se proyecta utilizando la siguiente función de proyección con tangente hiperbólica, para reducir la difuminación :
             \begin{equation}
             \theta = \frac{\tanh(\beta(\theta_f - \theta_\beta)) + \tanh(\beta\theta_\beta)}{\tanh(\beta(1 - \theta_\beta)) + \tanh(\beta\theta_\beta)}
             \end{equation}
            \begin{figure}[H]
              \centering
              \includegraphics[width=0.9\textwidth]{2.png}
              \caption{Viga MBB}
              \label{fig:imagen_x}
            \end{figure}

            \begin{figure}[H]
              \centering
              \includegraphics[width=0.9\textwidth]{1.png}
              \caption{Suavización y remodelamiento}
              \label{fig:imagen_x}
            \end{figure}
          Entonces podemos notar que valores de $\beta$ altos hacen que la proyección sea más estricta y definida, mientras que valores bajos hacen que la función se asemeje a una función lineal y por eso seguiría viéndose difuminada. Por lo tanto, el valor de $\beta$ debe ser lo suficientemente alto para evitar la difuminación, pero no tan alto como para que la optimización no converja o que tenga mucho coste computacional.
          Además, para evitar que todo sea sólido, limitamos el volumen optimizado.
          \begin{equation}
            0 \leq \theta_{\mathrm{avg}} = \int\limits_{\Omega} \theta(\mathbf{x})\, d\Omega \leq V_{\mathrm{frac}}
          \end{equation}
            Para finalizar, garantizamos que la respuesta del modelo sea 0s y 1s. Aunque no puede faltar la inclusión de la rigidez en todo este cálculo, por tanto:
          \begin{equation}
            \theta_p = \theta_{\min} + (1 - \theta_{\min}) \theta(\mathbf{x})^p
          \end{equation}
          \begin{equation}
            E(\mathbf{x}) = E_0 \theta_p
          \end{equation}


 
          \bibliographystyle{apacite}
\nocite{*}
\bibliography{bib}
\end{document}